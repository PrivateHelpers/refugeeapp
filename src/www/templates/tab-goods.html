<ion-view view-title="{{ 'GOODS.TITLE' | translate }}" >

    <ion-nav-buttons side="right">
       <button class="ion-refresh custom-nav-button button-clear" ng-click="refreshData()"></button>
     </ion-nav-buttons>
	 
	 
  <ion-content class="padding">
    <div class="list card">
      <div class="item item-divider">{{ 'GOODS.FOR_FREE' | translate }}</div>
      <div class="item item-body">
	    <ion-list>
	      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="item in items|filter: filterOtherOffers |  orderBy: 'title'" type="item-text-wrap" href="#/tab/goods/{{item.id}}">
	        <img ng-src="{{item.image}}">
	        <h2>{{item.title}}</h2>
	        <p>{{item.description}}</p>
	        <i class="icon ion-chevron-right icon-accessory"></i>
	      </ion-item>
	    </ion-list>
      </div>
    </div>
	
	
    <div class="list card">
      <div class="item item-divider">{{ 'GOODS.MY_OFFERS' | translate }}</div>
      <div class="item item-body">
	    <ion-list>
	      <ion-item class="item-remove-animate item-avatar item-icon-right" ng-repeat="item in items |filter: filterMyOffers |  orderBy: 'name'" type="item-text-wrap" href="#/tab/goods/{{item.id}}">
	        <img ng-src="{{item.image}}">
	        <h2>{{item.title}}</h2>
	        <p>{{item.description}}</p>
	        <i class="icon ion-chevron-right icon-accessory"></i>
	        <ion-option-button class="button-assertive" ng-click="remove(item)">
	          Delete
	        </ion-option-button>
	      </ion-item>
	    </ion-list>
		<div class="item item-divider">{{ 'GOODS.NEW_OFFER.TITLE' | translate }}</div>
		<ion-item  class="list">
		  <label class="item item-input">
		    <input  type="text" 
					placeholder="{{ 'GOODS.NEW_OFFER.PLACEHOLDER.TITLE' | translate }}"
					ng-model="newoffer.title" >
		  </label>
		  <label class="item item-input">
		    <input 	type="text" 
					placeholder="{{ 'GOODS.NEW_OFFER.PLACEHOLDER.DESCRIPTION' | translate }}" 
					ng-model="newoffer.description">
		  </label>
		  <label class="item item-input">
		    <textarea 
					placeholder="{{ 'GOODS.NEW_OFFER.PLACEHOLDER.COMMENTS' | translate }}"
					ng-model="newoffer.comments"
					></textarea>
		  </label>
		  <!-- on devices we might add a photo! 
		  		 TODO: repair = show only on supported devices e.g. on ios
		  -->
		  <button 	ng-click="getPhoto()" 
		  			class="button button-block button-primary"
					ng-show="photosEnabled"
					>{{ 'NAVIGATION.ADD_PHOTO_FOR_OFFER' | translate }}</button>
		  <img ng-src="{{newoffer.photo}}" 
		  		style="max-width: 100%" 
				ng-show="newoffer.photo">
		  <button class="button button-block button-stable" ng-click="sendMyNewOffer()" ng-show="newoffer.title">
		        {{ 'GOODS.NEW_OFFER.SUBMIT' | translate }}
		   </button>
		</ion-item>
		
		
      </div>
    </div>
		
  </ion-content>
  
  
  <!-- 
	  The MODAL view to ask: "are you sure? "
  -->
  <script id="contact-modal.html" type="text/ng-template">
    <div class="modal">
      <ion-header-bar>
        <h1 class="title">{{ 'GOODS.NEW_OFFER.CONFIRM_TO_ADD_OFFER_TITLE' | translate }}</h1>
      </ion-header-bar>
      <ion-content>
        <div class="list">
          <label class="item item-input">
            <span class="input-label">
					{{ newoffer.title }}
			</span>
          </label>
          <label class="item item-input" ng-show="newoffer.description">
            <span class="input-label">
					{{ newoffer.description }}
			</span>
          </label>
          <label class="item item-input" ng-show="newoffer.comments">
            <span class="input-label">
					{{ newoffer.comments }}
			</span>
          </label>
		  <img ng-src="{{newoffer.photo}}" 
		  		style="max-width: 100%" 
				ng-show="newoffer.photo"> 
        </div>
		<div class="padding">
        	<button class="button button button-stable" 
					ng-click="cancelModal()">{{ 'GOODS.NEW_OFFER.CONFIRM_TO_ADD_OFFER_CANCEL' | translate }}</button> 
			<button class="button button button-stable" ng-click="closeModal()">{{ 'GOODS.NEW_OFFER.CONFIRM_TO_ADD_OFFER_SUBMIT' | translate }}</button>
		</div>
      </ion-content>
    </div>
  </script>
  
</ion-view>




